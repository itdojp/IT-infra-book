<svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .diagram-text { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'; font-size: 11px; fill: var(--color-text-primary, #1a1a1a); }
      .diagram-title { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'; font-size: 16px; font-weight: bold; fill: var(--color-text-primary, #1a1a1a); }
      .switch-core { fill: var(--color-primary-light, #e3f2fd); stroke: var(--color-primary, #1976d2); stroke-width: 2; }
      .switch-dist { fill: var(--color-secondary-light, #f3e5f5); stroke: var(--color-secondary, #7b1fa2); stroke-width: 2; }
      .switch-access { fill: var(--color-accent-light, #fff3e0); stroke: var(--color-accent, #ff6b35); stroke-width: 2; }
      .device { fill: var(--color-bg-secondary, #f8f9fa); stroke: var(--color-border, #dee2e6); stroke-width: 1.5; }
      .trunk-link { stroke: var(--color-primary, #1976d2); stroke-width: 3; fill: none; }
      .access-link { stroke: var(--color-accent, #ff6b35); stroke-width: 2; fill: none; }
      .vlan10 { fill: var(--color-success-light, #e8f5e8); stroke: var(--color-success, #2e7d32); stroke-width: 1; }
      .vlan20 { fill: var(--color-warning-light, #fff8e1); stroke: var(--color-warning, #f57c00); stroke-width: 1; }
      .vlan30 { fill: var(--color-info-light, #e1f5fe); stroke: var(--color-info, #0288d1); stroke-width: 1; }
      .vlan40 { fill: var(--color-error-light, #ffebee); stroke: var(--color-error, #d32f2f); stroke-width: 1; }
    </style>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="600" fill="var(--color-bg-primary, #ffffff)"/>
  
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" class="diagram-title">図2-2: VLAN設計パターン</text>
  
  <!-- Core Switch -->
  <rect x="350" y="60" width="100" height="60" class="switch-core"/>
  <text x="400" y="85" text-anchor="middle" class="diagram-text">コアスイッチ</text>
  <text x="400" y="105" text-anchor="middle" class="diagram-text">Trunk設定</text>
  
  <!-- Distribution Switches -->
  <rect x="200" y="160" width="120" height="60" class="switch-dist"/>
  <text x="260" y="185" text-anchor="middle" class="diagram-text">ディストリ</text>
  <text x="260" y="205" text-anchor="middle" class="diagram-text">スイッチ1</text>
  
  <rect x="480" y="160" width="120" height="60" class="switch-dist"/>
  <text x="540" y="185" text-anchor="middle" class="diagram-text">ディストリ</text>
  <text x="540" y="205" text-anchor="middle" class="diagram-text">スイッチ2</text>
  
  <!-- Access Switches -->
  <rect x="80" y="280" width="120" height="60" class="switch-access"/>
  <text x="140" y="300" text-anchor="middle" class="diagram-text">アクセススイッチ1</text>
  <text x="140" y="320" text-anchor="middle" class="diagram-text">VLAN 10,20</text>
  
  <rect x="240" y="280" width="120" height="60" class="switch-access"/>
  <text x="300" y="300" text-anchor="middle" class="diagram-text">アクセススイッチ2</text>
  <text x="300" y="320" text-anchor="middle" class="diagram-text">VLAN 30,40</text>
  
  <rect x="560" y="280" width="120" height="60" class="switch-access"/>
  <text x="620" y="300" text-anchor="middle" class="diagram-text">アクセススイッチ3</text>
  <text x="620" y="320" text-anchor="middle" class="diagram-text">VLAN 10,30</text>
  
  <!-- End Devices -->
  <rect x="60" y="420" width="80" height="50" class="device vlan10"/>
  <text x="100" y="440" text-anchor="middle" class="diagram-text">PC1</text>
  <text x="100" y="455" text-anchor="middle" class="diagram-text">VLAN 10</text>
  
  <rect x="160" y="420" width="80" height="50" class="device vlan20"/>
  <text x="200" y="440" text-anchor="middle" class="diagram-text">PC2</text>
  <text x="200" y="455" text-anchor="middle" class="diagram-text">VLAN 20</text>
  
  <rect x="260" y="420" width="80" height="50" class="device vlan30"/>
  <text x="300" y="440" text-anchor="middle" class="diagram-text">Server1</text>
  <text x="300" y="455" text-anchor="middle" class="diagram-text">VLAN 30</text>
  
  <rect x="360" y="420" width="80" height="50" class="device vlan40"/>
  <text x="400" y="440" text-anchor="middle" class="diagram-text">Server2</text>
  <text x="400" y="455" text-anchor="middle" class="diagram-text">VLAN 40</text>
  
  <!-- Trunk Links -->
  <line x1="400" y1="120" x2="260" y2="160" class="trunk-link"/>
  <line x1="400" y1="120" x2="540" y2="160" class="trunk-link"/>
  
  <line x1="260" y1="220" x2="140" y2="280" class="trunk-link"/>
  <line x1="260" y1="220" x2="300" y2="280" class="trunk-link"/>
  
  <line x1="540" y1="220" x2="300" y2="280" class="trunk-link"/>
  <line x1="540" y1="220" x2="620" y2="280" class="trunk-link"/>
  
  <!-- Access Links -->
  <line x1="140" y1="340" x2="100" y2="420" class="access-link"/>
  <line x1="140" y1="340" x2="200" y2="420" class="access-link"/>
  <line x1="300" y1="340" x2="300" y2="420" class="access-link"/>
  <line x1="300" y1="340" x2="400" y2="420" class="access-link"/>
  
  <!-- VLAN Legend -->
  <text x="50" y="520" class="diagram-title">VLAN割り当て例</text>
  
  <rect x="50" y="530" width="15" height="15" class="vlan10"/>
  <text x="75" y="542" class="diagram-text">VLAN 10: 営業部門</text>
  
  <rect x="200" y="530" width="15" height="15" class="vlan20"/>
  <text x="225" y="542" class="diagram-text">VLAN 20: 開発部門</text>
  
  <rect x="350" y="530" width="15" height="15" class="vlan30"/>
  <text x="375" y="542" class="diagram-text">VLAN 30: サーバー</text>
  
  <rect x="500" y="530" width="15" height="15" class="vlan40"/>
  <text x="525" y="542" class="diagram-text">VLAN 40: 管理用</text>
  
  <!-- Link Types Legend -->
  <text x="450" y="520" class="diagram-title">リンクタイプ</text>
  
  <line x1="450" y1="540" x2="480" y2="540" class="trunk-link"/>
  <text x="490" y="545" class="diagram-text">Trunkリンク（全VLAN通過）</text>
  
  <line x1="450" y1="560" x2="480" y2="560" class="access-link"/>
  <text x="490" y="565" class="diagram-text">Accessリンク（単一VLAN）</text>
  
  <!-- Accessibility -->
  <title>VLAN設計パターン</title>
  <desc>3層ネットワークアーキテクチャにおけるVLAN設計パターンと接続形態を示す図</desc>
</svg>