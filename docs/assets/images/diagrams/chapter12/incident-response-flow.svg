<svg viewBox="0 0 800 700" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .diagram-text { font-family: 'Hiragino Sans', 'Yu Gothic', sans-serif; font-size: 11px; fill: var(--color-text-primary, #1a1a1a); }
      .diagram-title { font-family: 'Hiragino Sans', 'Yu Gothic', sans-serif; font-size: 16px; font-weight: bold; fill: var(--color-text-primary, #1a1a1a); }
      .state-normal { fill: var(--color-bg-secondary, #f8f9fa); stroke: var(--color-border, #dee2e6); stroke-width: 2; }
      .state-sev1 { fill: var(--color-error-light, #ffebee); stroke: var(--color-error, #d32f2f); stroke-width: 2; }
      .state-sev2 { fill: var(--color-warning-light, #fff8e1); stroke: var(--color-warning, #f57c00); stroke-width: 2; }
      .state-sev3 { fill: var(--color-info-light, #e1f5fe); stroke: var(--color-info, #0288d1); stroke-width: 2; }
      .state-sev4 { fill: var(--color-success-light, #e8f5e8); stroke: var(--color-success, #2e7d32); stroke-width: 2; }
      .state-process { fill: var(--color-primary-light, #e3f2fd); stroke: var(--color-primary, #1976d2); stroke-width: 2; }
      .flow { stroke: var(--color-text-secondary, #666); stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .critical-flow { stroke: var(--color-error, #d32f2f); stroke-width: 3; fill: none; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="var(--color-text-secondary, #666)" />
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="700" fill="var(--color-bg-primary, #ffffff)"/>
  
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" class="diagram-title">図12-3: インシデント対応フロー</text>
  
  <!-- Initial Detection -->
  <circle cx="400" cy="80" r="30" class="state-normal"/>
  <text x="400" y="75" text-anchor="middle" class="diagram-text">検知</text>
  <text x="400" y="90" text-anchor="middle" class="diagram-text">アラート発生</text>
  
  <!-- Classification -->
  <rect x="350" y="140" width="100" height="40" class="state-normal"/>
  <text x="400" y="155" text-anchor="middle" class="diagram-text">分類</text>
  <text x="400" y="170" text-anchor="middle" class="diagram-text">インシデント作成</text>
  
  <!-- Severity Levels -->
  <rect x="100" y="220" width="80" height="50" class="state-sev1"/>
  <text x="140" y="235" text-anchor="middle" class="diagram-text">SEV1</text>
  <text x="140" y="250" text-anchor="middle" class="diagram-text">(重大)</text>
  <text x="140" y="265" text-anchor="middle" class="diagram-text">5分以内</text>
  
  <rect x="220" y="220" width="80" height="50" class="state-sev2"/>
  <text x="260" y="235" text-anchor="middle" class="diagram-text">SEV2</text>
  <text x="260" y="250" text-anchor="middle" class="diagram-text">(大)</text>
  <text x="260" y="265" text-anchor="middle" class="diagram-text">15分以内</text>
  
  <rect x="340" y="220" width="80" height="50" class="state-sev3"/>
  <text x="380" y="235" text-anchor="middle" class="diagram-text">SEV3</text>
  <text x="380" y="250" text-anchor="middle" class="diagram-text">(中)</text>
  <text x="380" y="265" text-anchor="middle" class="diagram-text">1時間以内</text>
  
  <rect x="460" y="220" width="80" height="50" class="state-sev4"/>
  <text x="500" y="235" text-anchor="middle" class="diagram-text">SEV4</text>
  <text x="500" y="250" text-anchor="middle" class="diagram-text">(小)</text>
  <text x="500" y="265" text-anchor="middle" class="diagram-text">翌営業日</text>
  
  <!-- Response Process -->
  <rect x="550" y="220" width="100" height="40" class="state-process"/>
  <text x="600" y="240" text-anchor="middle" class="diagram-text">初期対応</text>
  <text x="600" y="255" text-anchor="middle" class="diagram-text">担当者アサイン</text>
  
  <rect x="550" y="300" width="100" height="40" class="state-process"/>
  <text x="600" y="315" text-anchor="middle" class="diagram-text">調査</text>
  <text x="600" y="330" text-anchor="middle" class="diagram-text">原因特定</text>
  
  <rect x="550" y="380" width="100" height="40" class="state-process"/>
  <text x="600" y="395" text-anchor="middle" class="diagram-text">暫定対処</text>
  <text x="600" y="410" text-anchor="middle" class="diagram-text">サービス復旧</text>
  
  <rect x="550" y="460" width="100" height="40" class="state-process"/>
  <text x="600" y="475" text-anchor="middle" class="diagram-text">恒久対処</text>
  <text x="600" y="490" text-anchor="middle" class="diagram-text">根本原因対応</text>
  
  <rect x="550" y="540" width="100" height="40" class="state-process"/>
  <text x="600" y="555" text-anchor="middle" class="diagram-text">検証</text>
  <text x="600" y="570" text-anchor="middle" class="diagram-text">動作確認</text>
  
  <rect x="350" y="620" width="100" height="40" class="state-normal"/>
  <text x="400" y="635" text-anchor="middle" class="diagram-text">クローズ</text>
  <text x="400" y="650" text-anchor="middle" class="diagram-text">インシデント終了</text>
  
  <rect x="100" y="620" width="120" height="40" class="state-normal"/>
  <text x="160" y="635" text-anchor="middle" class="diagram-text">ポストモーテム</text>
  <text x="160" y="650" text-anchor="middle" class="diagram-text">SEV1/2のみ</text>
  
  <!-- Flows -->
  <line x1="400" y1="110" x2="400" y2="140" class="flow"/>
  
  <line x1="350" y1="160" x2="140" y2="220" class="flow"/>
  <line x1="370" y1="180" x2="260" y2="220" class="flow"/>
  <line x1="400" y1="180" x2="380" y2="220" class="flow"/>
  <line x1="430" y1="180" x2="500" y2="220" class="flow"/>
  
  <line x1="180" y1="245" x2="550" y2="240" class="critical-flow"/>
  <line x1="300" y1="245" x2="550" y2="240" class="flow"/>
  <line x1="420" y1="245" x2="550" y2="240" class="flow"/>
  <line x1="540" y1="245" x2="550" y2="240" class="flow"/>
  
  <line x1="600" y1="260" x2="600" y2="300" class="flow"/>
  <line x1="600" y1="340" x2="600" y2="380" class="flow"/>
  <line x1="600" y1="420" x2="600" y2="460" class="flow"/>
  <line x1="600" y1="500" x2="600" y2="540" class="flow"/>
  <line x1="550" y1="560" x2="450" y2="640" class="flow"/>
  
  <line x1="350" y1="640" x2="220" y2="640" class="flow"/>
  
  <!-- Response Time Legend -->
  <text x="50" y="350" class="diagram-title">対応時間目標</text>
  <text x="50" y="370" class="diagram-text">SEV1: 5分以内 - システム全停止</text>
  <text x="50" y="390" class="diagram-text">SEV2: 15分以内 - 重要機能停止</text>
  <text x="50" y="410" class="diagram-text">SEV3: 1時間以内 - 部分機能停止</text>
  <text x="50" y="430" class="diagram-text">SEV4: 翌営業日 - 軽微な問題</text>
  
  <!-- Accessibility -->
  <title>インシデント対応フロー</title>
  <desc>障害の重要度分類から対応完了までのインシデント対応プロセスを示す図</desc>
</svg>