<svg viewBox="0 0 900 700" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .diagram-text { font-family: 'Hiragino Sans', 'Yu Gothic', sans-serif; font-size: 11px; fill: var(--color-text-primary, #1a1a1a); }
      .diagram-title { font-family: 'Hiragino Sans', 'Yu Gothic', sans-serif; font-size: 16px; font-weight: bold; fill: var(--color-text-primary, #1a1a1a); }
      .section-title { font-family: 'Hiragino Sans', 'Yu Gothic', sans-serif; font-size: 13px; font-weight: bold; fill: var(--color-text-primary, #1a1a1a); }
      .source { fill: var(--color-primary-light, #e3f2fd); stroke: var(--color-primary, #1976d2); stroke-width: 2; }
      .metrics { fill: var(--color-secondary-light, #f3e5f5); stroke: var(--color-secondary, #7b1fa2); stroke-width: 2; }
      .logs { fill: var(--color-accent-light, #fff3e0); stroke: var(--color-accent, #ff6b35); stroke-width: 2; }
      .traces { fill: var(--color-warning-light, #fff8e1); stroke: var(--color-warning, #f57c00); stroke-width: 2; }
      .dashboard { fill: var(--color-success-light, #e8f5e8); stroke: var(--color-success, #2e7d32); stroke-width: 2; }
      .flow { stroke: var(--color-text-secondary, #666); stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .integration { stroke: var(--color-info, #0288d1); stroke-width: 2; fill: none; marker-end: url(#arrowhead); stroke-dasharray: 5,5; }
    </style>
    <marker id="arrowhead" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="var(--color-text-secondary, #666)" />
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="900" height="700" fill="var(--color-bg-primary, #ffffff)"/>
  
  <!-- Title -->
  <text x="450" y="30" text-anchor="middle" class="diagram-title">図12-2: 可観測性の三本柱</text>
  
  <!-- Data Sources -->
  <text x="150" y="70" text-anchor="middle" class="section-title">データソース</text>
  
  <rect x="80" y="90" width="80" height="50" class="source"/>
  <text x="120" y="110" text-anchor="middle" class="diagram-text">アプリケーション</text>
  <text x="120" y="125" text-anchor="middle" class="diagram-text">サービス</text>
  
  <rect x="80" y="160" width="80" height="50" class="source"/>
  <text x="120" y="180" text-anchor="middle" class="diagram-text">システム</text>
  <text x="120" y="195" text-anchor="middle" class="diagram-text">リソース</text>
  
  <rect x="80" y="230" width="80" height="50" class="source"/>
  <text x="120" y="250" text-anchor="middle" class="diagram-text">ネットワーク</text>
  <text x="120" y="265" text-anchor="middle" class="diagram-text">インフラ</text>
  
  <!-- Metrics Pillar -->
  <text x="300" y="70" text-anchor="middle" class="section-title">メトリクス</text>
  
  <rect x="240" y="90" width="120" height="40" class="metrics"/>
  <text x="300" y="105" text-anchor="middle" class="diagram-text">収集エージェント</text>
  <text x="300" y="120" text-anchor="middle" class="diagram-text">(Prometheus Node Exporter)</text>
  
  <rect x="240" y="150" width="120" height="40" class="metrics"/>
  <text x="300" y="165" text-anchor="middle" class="diagram-text">時系列データベース</text>
  <text x="300" y="180" text-anchor="middle" class="diagram-text">(Prometheus)</text>
  
  <rect x="240" y="210" width="120" height="40" class="metrics"/>
  <text x="300" y="225" text-anchor="middle" class="diagram-text">可視化・アラート</text>
  <text x="300" y="240" text-anchor="middle" class="diagram-text">(Grafana)</text>
  
  <!-- Logs Pillar -->
  <text x="500" y="70" text-anchor="middle" class="section-title">ログ</text>
  
  <rect x="440" y="90" width="120" height="40" class="logs"/>
  <text x="500" y="105" text-anchor="middle" class="diagram-text">ログ収集</text>
  <text x="500" y="120" text-anchor="middle" class="diagram-text">(Fluentd/Fluent Bit)</text>
  
  <rect x="440" y="150" width="120" height="40" class="logs"/>
  <text x="500" y="165" text-anchor="middle" class="diagram-text">ログストレージ</text>
  <text x="500" y="180" text-anchor="middle" class="diagram-text">(Elasticsearch)</text>
  
  <rect x="440" y="210" width="120" height="40" class="logs"/>
  <text x="500" y="225" text-anchor="middle" class="diagram-text">ログ分析・検索</text>
  <text x="500" y="240" text-anchor="middle" class="diagram-text">(Kibana)</text>
  
  <!-- Traces Pillar -->
  <text x="700" y="70" text-anchor="middle" class="section-title">トレース</text>
  
  <rect x="640" y="90" width="120" height="40" class="traces"/>
  <text x="700" y="105" text-anchor="middle" class="diagram-text">トレース収集</text>
  <text x="700" y="120" text-anchor="middle" class="diagram-text">(Jaeger Agent)</text>
  
  <rect x="640" y="150" width="120" height="40" class="traces"/>
  <text x="700" y="165" text-anchor="middle" class="diagram-text">トレースストレージ</text>
  <text x="700" y="180" text-anchor="middle" class="diagram-text">(Jaeger Backend)</text>
  
  <rect x="640" y="210" width="120" height="40" class="traces"/>
  <text x="700" y="225" text-anchor="middle" class="diagram-text">トレース分析</text>
  <text x="700" y="240" text-anchor="middle" class="diagram-text">(Jaeger UI)</text>
  
  <!-- Data flows from sources -->
  <line x1="160" y1="115" x2="240" y2="110" class="flow"/>
  <line x1="160" y1="115" x2="440" y2="110" class="flow"/>
  <line x1="160" y1="115" x2="640" y2="110" class="flow"/>
  
  <line x1="160" y1="185" x2="240" y2="110" class="flow"/>
  <line x1="160" y1="185" x2="440" y2="110" class="flow"/>
  <line x1="160" y1="185" x2="640" y2="110" class="flow"/>
  
  <line x1="160" y1="255" x2="240" y2="110" class="flow"/>
  <line x1="160" y1="255" x2="440" y2="110" class="flow"/>
  <line x1="160" y1="255" x2="640" y2="110" class="flow"/>
  
  <!-- Internal flows within pillars -->
  <line x1="300" y1="130" x2="300" y2="150" class="flow"/>
  <line x1="300" y1="190" x2="300" y2="210" class="flow"/>
  
  <line x1="500" y1="130" x2="500" y2="150" class="flow"/>
  <line x1="500" y1="190" x2="500" y2="210" class="flow"/>
  
  <line x1="700" y1="130" x2="700" y2="150" class="flow"/>
  <line x1="700" y1="190" x2="700" y2="210" class="flow"/>
  
  <!-- Unified Dashboard -->
  <text x="450" y="320" text-anchor="middle" class="section-title">統合ダッシュボード</text>
  
  <rect x="350" y="340" width="200" height="60" class="dashboard"/>
  <text x="450" y="360" text-anchor="middle" class="diagram-text">統合観測ビュー</text>
  <text x="450" y="375" text-anchor="middle" class="diagram-text">(アラート・相関分析)</text>
  <text x="450" y="390" text-anchor="middle" class="diagram-text">(SLI/SLO ダッシュボード)</text>
  
  <!-- Integration flows to dashboard -->
  <line x1="300" y1="250" x2="400" y2="340" class="integration"/>
  <line x1="500" y1="250" x2="450" y2="340" class="integration"/>
  <line x1="700" y1="250" x2="500" y2="340" class="integration"/>
  
  <!-- Characteristics section -->
  <text x="450" y="450" text-anchor="middle" class="diagram-title">三本柱の特徴と用途</text>
  
  <rect x="50" y="470" width="800" height="180" fill="var(--color-bg-secondary, #f8f9fa)" stroke="var(--color-border, #dee2e6)" stroke-width="1"/>
  
  <text x="70" y="495" class="diagram-text" font-weight="bold">メトリクス（数値データ）:</text>
  <text x="70" y="515" class="diagram-text">• CPU/メモリ使用率、リクエスト数、レスポンス時間</text>
  <text x="70" y="535" class="diagram-text">• 傾向分析、しきい値アラート、キャパシティプランニング</text>
  
  <text x="70" y="565" class="diagram-text" font-weight="bold">ログ（イベントデータ）:</text>
  <text x="70" y="585" class="diagram-text">• エラーメッセージ、トランザクションログ、監査ログ</text>
  <text x="70" y="605" class="diagram-text">• 根本原因分析、デバッグ、セキュリティ調査</text>
  
  <text x="450" y="495" class="diagram-text" font-weight="bold">トレース（分散追跡）:</text>
  <text x="450" y="515" class="diagram-text">• リクエストの経路追跡、サービス間の依存関係</text>
  <text x="450" y="535" class="diagram-text">• パフォーマンス最適化、ボトルネック特定</text>
  
  <text x="450" y="565" class="diagram-text" font-weight="bold">統合の価値:</text>
  <text x="450" y="585" class="diagram-text">• 三つの視点からの包括的システム理解</text>
  <text x="450" y="605" class="diagram-text">• 障害の早期発見と迅速な復旧</text>
  
  <!-- Accessibility -->
  <title>可観測性の三本柱</title>
  <desc>メトリクス、ログ、トレースによる包括的システム観測アーキテクチャを示す図</desc>
</svg>