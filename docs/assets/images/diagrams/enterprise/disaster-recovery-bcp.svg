<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="1200" viewBox="0 0 800 1200" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      /* Color Palette */
      :root {
        --bg-primary: #FFFFFF;
        --bg-secondary: #F8F9FA;
        --text-primary: #1A1A1A;
        --text-secondary: #6B7280;
        --primary: #3B82F6;
        --success: #10B981;
        --warning: #F59E0B;
        --error: #EF4444;
        --neutral: #6B7280;
        --border: #E5E7EB;
        --primary-site: #10B981;
        --secondary-site: #3B82F6;
        --cloud-backup: #8B5CF6;
        --disaster-bg: #FEE2E2;
        --recovery-bg: #DCFCE7;
      }
      
      /* Dark Theme */
      @media (prefers-color-scheme: dark) {
        :root {
          --bg-primary: #1A1A1A;
          --bg-secondary: #2D2D2D;
          --text-primary: #FFFFFF;
          --text-secondary: #9CA3AF;
          --primary: #60A5FA;
          --success: #34D399;
          --warning: #FBBF24;
          --error: #F87171;
          --neutral: #9CA3AF;
          --border: #374151;
          --primary-site: #047857;
          --secondary-site: #1E40AF;
          --cloud-backup: #6B21A8;
          --disaster-bg: #991B1B;
          --recovery-bg: #14532D;
        }
      }
      
      /* Typography */
      .title-text {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
        font-size: 16px;
        font-weight: 600;
        text-anchor: middle;
        fill: var(--text-primary);
      }
      
      .section-title {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
        font-size: 14px;
        font-weight: 600;
        text-anchor: middle;
        fill: var(--text-primary);
      }
      
      .component-title {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
        font-size: 12px;
        font-weight: 500;
        text-anchor: middle;
        fill: var(--text-primary);
      }
      
      .label-text {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
        font-size: 10px;
        font-weight: 400;
        text-anchor: middle;
        fill: var(--text-primary);
      }
      
      .description-text {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
        font-size: 9px;
        font-weight: 400;
        text-anchor: start;
        fill: var(--text-secondary);
      }
      
      /* Site Styles */
      .primary-site {
        fill: var(--primary-site);
        stroke: var(--success);
        stroke-width: 2;
        opacity: 0.2;
      }
      
      .secondary-site {
        fill: var(--secondary-site);
        stroke: var(--primary);
        stroke-width: 2;
        opacity: 0.2;
      }
      
      .cloud-backup {
        fill: var(--cloud-backup);
        stroke: var(--neutral);
        stroke-width: 2;
        opacity: 0.2;
      }
      
      /* Component Styles */
      .primary-component {
        fill: var(--bg-primary);
        stroke: var(--success);
        stroke-width: 2;
      }
      
      .secondary-component {
        fill: var(--bg-primary);
        stroke: var(--primary);
        stroke-width: 2;
      }
      
      .backup-component {
        fill: var(--bg-primary);
        stroke: var(--warning);
        stroke-width: 2;
      }
      
      .disaster-area {
        fill: var(--disaster-bg);
        stroke: var(--error);
        stroke-width: 2;
        stroke-dasharray: 8,4;
      }
      
      .recovery-area {
        fill: var(--recovery-bg);
        stroke: var(--success);
        stroke-width: 2;
      }
      
      /* Connection Lines */
      .replication-line {
        stroke: var(--primary);
        stroke-width: 3;
        marker-end: url(#arrow);
      }
      
      .backup-line {
        stroke: var(--warning);
        stroke-width: 2;
        stroke-dasharray: 4,4;
        marker-end: url(#arrow-orange);
      }
      
      .failover-line {
        stroke: var(--error);
        stroke-width: 3;
        stroke-dasharray: 8,4;
        marker-end: url(#arrow-red);
      }
      
      .recovery-line {
        stroke: var(--success);
        stroke-width: 2;
        stroke-dasharray: 2,2;
        marker-end: url(#arrow-green);
      }
    </style>
    
    <!-- Arrow Markers -->
    <marker id="arrow" markerWidth="10" markerHeight="8" refX="10" refY="4" orient="auto">
      <polygon points="0 0, 10 4, 0 8" fill="var(--primary)"/>
    </marker>
    <marker id="arrow-orange" markerWidth="10" markerHeight="8" refX="10" refY="4" orient="auto">
      <polygon points="0 0, 10 4, 0 8" fill="var(--warning)"/>
    </marker>
    <marker id="arrow-red" markerWidth="10" markerHeight="8" refX="10" refY="4" orient="auto">
      <polygon points="0 0, 10 4, 0 8" fill="var(--error)"/>
    </marker>
    <marker id="arrow-green" markerWidth="10" markerHeight="8" refX="10" refY="4" orient="auto">
      <polygon points="0 0, 10 4, 0 8" fill="var(--success)"/>
    </marker>
  </defs>
  
  <title>災害復旧・BCP設計図</title>
  <desc>3-2-1バックアップ、RPO/RTO設計、クロスサイトレプリケーション、ビジネス継続計画</desc>
  
  <!-- Background -->
  <rect width="100%" height="100%" fill="var(--bg-primary)"/>
  
  <!-- Main Title -->
  <text x="400" y="24" class="title-text">災害復旧・BCP設計図</text>
  
  <!-- Primary Site -->
  <rect x="50" y="60" width="300" height="220" rx="8" class="primary-site"/>
  <text x="200" y="80" class="section-title">プライマリサイト（本社・メインDC）</text>
  
  <!-- Primary Infrastructure -->
  <rect x="70" y="100" width="120" height="60" rx="4" class="primary-component"/>
  <text x="130" y="120" class="component-title">Core Systems</text>
  <text x="130" y="140" class="label-text">ERP・CRM・DB</text>
  <text x="130" y="155" class="label-text">24/7 運用</text>
  
  <rect x="210" y="100" width="120" height="60" rx="4" class="primary-component"/>
  <text x="270" y="120" class="component-title">Storage Array</text>
  <text x="270" y="140" class="label-text">Primary Storage</text>
  <text x="270" y="155" class="label-text">100TB SAN</text>
  
  <!-- Backup Infrastructure -->
  <rect x="70" y="180" width="120" height="60" rx="4" class="backup-component"/>
  <text x="130" y="200" class="component-title">Backup Server</text>
  <text x="130" y="220" class="label-text">Veeam/CommVault</text>
  <text x="130" y="235" class="label-text">Local Backup</text>
  
  <rect x="210" y="180" width="120" height="60" rx="4" class="backup-component"/>
  <text x="270" y="200" class="component-title">Tape Library</text>
  <text x="270" y="220" class="label-text">LTO-8/9</text>
  <text x="270" y="235" class="label-text">長期保管</text>
  
  <!-- Secondary Site -->
  <rect x="450" y="60" width="300" height="220" rx="8" class="secondary-site"/>
  <text x="600" y="80" class="section-title">セカンダリサイト（DR拠点）</text>
  
  <!-- Secondary Infrastructure -->
  <rect x="470" y="100" width="120" height="60" rx="4" class="secondary-component"/>
  <text x="530" y="120" class="component-title">Standby Systems</text>
  <text x="530" y="140" class="label-text">Hot/Warm Standby</text>
  <text x="530" y="155" class="label-text">自動フェイルオーバー</text>
  
  <rect x="610" y="100" width="120" height="60" rx="4" class="secondary-component"/>
  <text x="670" y="120" class="component-title">DR Storage</text>
  <text x="670" y="140" class="label-text">Replica Storage</text>
  <text x="670" y="155" class="label-text">80TB SAN</text>
  
  <!-- DR Testing Environment -->
  <rect x="470" y="180" width="120" height="60" rx="4" class="secondary-component"/>
  <text x="530" y="200" class="component-title">DR Testing</text>
  <text x="530" y="220" class="label-text">月次テスト</text>
  <text x="530" y="235" class="label-text">RTO/RPO検証</text>
  
  <rect x="610" y="180" width="120" height="60" rx="4" class="secondary-component"/>
  <text x="670" y="200" class="component-title">Network Failover</text>
  <text x="670" y="220" class="label-text">BGP/DNS切替</text>
  <text x="670" y="235" class="label-text">自動化</text>
  
  <!-- Cloud Backup Layer -->
  <rect x="50" y="300" width="700" height="140" rx="8" class="cloud-backup"/>
  <text x="400" y="320" class="section-title">クラウドバックアップ層（3-2-1ルール準拠）</text>
  
  <!-- AWS Backup -->
  <rect x="80" y="340" width="120" height="80" rx="4" class="backup-component"/>
  <text x="140" y="360" class="component-title">AWS Backup</text>
  <text x="140" y="380" class="label-text">S3 Glacier</text>
  <text x="140" y="395" class="label-text">長期アーカイブ</text>
  <text x="140" y="410" class="label-text">99.999999999%</text>
  
  <!-- Azure Backup -->
  <rect x="220" y="340" width="120" height="80" rx="4" class="backup-component"/>
  <text x="280" y="360" class="component-title">Azure Backup</text>
  <text x="280" y="380" class="label-text">Blob Storage</text>
  <text x="280" y="395" class="label-text">GRS複製</text>
  <text x="280" y="410" class="label-text">地理的分散</text>
  
  <!-- Google Cloud Backup -->
  <rect x="360" y="340" width="120" height="80" rx="4" class="backup-component"/>
  <text x="420" y="360" class="component-title">GCP Backup</text>
  <text x="420" y="380" class="label-text">Cloud Storage</text>
  <text x="420" y="395" class="label-text">マルチリージョン</text>
  <text x="420" y="410" class="label-text">自動階層化</text>
  
  <!-- Backup Strategy -->
  <rect x="500" y="340" width="200" height="80" rx="4" fill="var(--bg-primary)" stroke="var(--neutral)" stroke-width="2"/>
  <text x="600" y="360" class="component-title">3-2-1バックアップ戦略</text>
  <text x="510" y="380" class="description-text">• 3つのコピー（本番+2つのバックアップ）</text>
  <text x="510" y="395" class="description-text">• 2つの異なるメディア（ディスク+テープ）</text>
  <text x="510" y="410" class="description-text">• 1つのオフサイト保管（クラウド）</text>
  
  <!-- RPO/RTO Matrix -->
  <rect x="50" y="460" width="700" height="160" rx="8" fill="var(--bg-secondary)" stroke="var(--border)" stroke-width="1"/>
  <text x="400" y="480" class="section-title">RPO/RTO設計マトリクス</text>
  
  <!-- Critical Systems -->
  <rect x="80" y="500" width="140" height="100" rx="4" class="disaster-area"/>
  <text x="150" y="520" class="component-title">ミッションクリティカル</text>
  <text x="150" y="540" class="label-text">RPO: 15分以下</text>
  <text x="150" y="555" class="label-text">RTO: 1時間以下</text>
  <text x="80" y="575" class="description-text">• 基幹業務システム</text>
  <text x="80" y="590" class="description-text">• 顧客対応システム</text>
  
  <!-- Important Systems -->
  <rect x="240" y="500" width="140" height="100" rx="4" fill="var(--warning)" opacity="0.3" stroke="var(--warning)" stroke-width="2"/>
  <text x="310" y="520" class="component-title">重要システム</text>
  <text x="310" y="540" class="label-text">RPO: 1時間以下</text>
  <text x="310" y="555" class="label-text">RTO: 4時間以下</text>
  <text x="250" y="575" class="description-text">• 業務支援システム</text>
  <text x="250" y="590" class="description-text">• 分析・レポート系</text>
  
  <!-- Standard Systems -->
  <rect x="400" y="500" width="140" height="100" rx="4" fill="var(--success)" opacity="0.3" stroke="var(--success)" stroke-width="2"/>
  <text x="470" y="520" class="component-title">標準システム</text>
  <text x="470" y="540" class="label-text">RPO: 4時間以下</text>
  <text x="470" y="555" class="label-text">RTO: 24時間以下</text>
  <text x="410" y="575" class="description-text">• 情報共有システム</text>
  <text x="410" y="590" class="description-text">• 開発・テスト環境</text>
  
  <!-- Non-Critical Systems -->
  <rect x="560" y="500" width="140" height="100" rx="4" fill="var(--neutral)" opacity="0.2" stroke="var(--neutral)" stroke-width="2"/>
  <text x="630" y="520" class="component-title">非重要システム</text>
  <text x="630" y="540" class="label-text">RPO: 24時間以下</text>
  <text x="630" y="555" class="label-text">RTO: 72時間以下</text>
  <text x="570" y="575" class="description-text">• アーカイブシステム</text>
  <text x="570" y="590" class="description-text">• 研修・学習システム</text>
  
  <!-- Business Continuity Process -->
  <rect x="50" y="640" width="700" height="180" rx="8" class="recovery-area"/>
  <text x="400" y="660" class="section-title">ビジネス継続プロセス・インシデント対応</text>
  
  <!-- Detection & Assessment -->
  <rect x="80" y="680" width="120" height="60" rx="4" fill="var(--bg-primary)" stroke="var(--error)" stroke-width="2"/>
  <text x="140" y="700" class="component-title">検知・評価</text>
  <text x="140" y="720" class="label-text">監視システム</text>
  <text x="140" y="735" class="label-text">影響度判定</text>
  
  <!-- Notification -->
  <rect x="220" y="680" width="120" height="60" rx="4" fill="var(--bg-primary)" stroke="var(--warning)" stroke-width="2"/>
  <text x="280" y="700" class="component-title">通知・エスカレーション</text>
  <text x="280" y="720" class="label-text">自動通知</text>
  <text x="280" y="735" class="label-text">緊急連絡網</text>
  
  <!-- Decision Making -->
  <rect x="360" y="680" width="120" height="60" rx="4" fill="var(--bg-primary)" stroke="var(--primary)" stroke-width="2"/>
  <text x="420" y="700" class="component-title">意思決定</text>
  <text x="420" y="720" class="label-text">DR発動判断</text>
  <text x="420" y="735" class="label-text">BCP委員会</text>
  
  <!-- Recovery Execution -->
  <rect x="500" y="680" width="120" height="60" rx="4" fill="var(--bg-primary)" stroke="var(--success)" stroke-width="2"/>
  <text x="560" y="700" class="component-title">復旧実行</text>
  <text x="560" y="720" class="label-text">自動フェイルオーバー</text>
  <text x="560" y="735" class="label-text">手動切替</text>
  
  <!-- Communication Plan -->
  <rect x="640" y="680" width="80" height="60" rx="4" fill="var(--bg-primary)" stroke="var(--neutral)" stroke-width="2"/>
  <text x="680" y="700" class="component-title">広報・連絡</text>
  <text x="680" y="720" class="label-text">顧客通知</text>
  <text x="680" y="735" class="label-text">社内連絡</text>
  
  <!-- Recovery Testing Schedule -->
  <rect x="80" y="760" width="640" height="40" rx="4" fill="var(--bg-primary)" stroke="var(--primary)" stroke-width="1"/>
  <text x="400" y="784" class="component-title">復旧テストスケジュール・プレイブック・継続的改善</text>
  
  <!-- Compliance & Governance -->
  <rect x="50" y="840" width="700" height="160" rx="8" fill="var(--bg-secondary)" stroke="var(--border)" stroke-width="1"/>
  <text x="400" y="860" class="section-title">コンプライアンス・ガバナンス</text>
  
  <!-- Regulatory Compliance -->
  <rect x="80" y="880" width="140" height="80" rx="4" fill="var(--bg-primary)" stroke="var(--error)" stroke-width="2"/>
  <text x="150" y="900" class="component-title">法規制対応</text>
  <text x="150" y="920" class="label-text">SOX・GDPR</text>
  <text x="150" y="935" class="label-text">金融庁ガイドライン</text>
  <text x="150" y="950" class="label-text">個人情報保護法</text>
  
  <!-- Risk Management -->
  <rect x="240" y="880" width="140" height="80" rx="4" fill="var(--bg-primary)" stroke="var(--warning)" stroke-width="2"/>
  <text x="310" y="900" class="component-title">リスク管理</text>
  <text x="310" y="920" class="label-text">BIA分析</text>
  <text x="310" y="935" class="label-text">リスクアセスメント</text>
  <text x="310" y="950" class="label-text">脅威モデリング</text>
  
  <!-- Audit & Documentation -->
  <rect x="400" y="880" width="140" height="80" rx="4" fill="var(--bg-primary)" stroke="var(--primary)" stroke-width="2"/>
  <text x="470" y="900" class="component-title">監査・文書化</text>
  <text x="470" y="920" class="label-text">内外部監査</text>
  <text x="470" y="935" class="label-text">証跡管理</text>
  <text x="470" y="950" class="label-text">手順書・記録</text>
  
  <!-- Training & Awareness -->
  <rect x="560" y="880" width="140" height="80" rx="4" fill="var(--bg-primary)" stroke="var(--success)" stroke-width="2"/>
  <text x="630" y="900" class="component-title">教育・訓練</text>
  <text x="630" y="920" class="label-text">BCP訓練</text>
  <text x="630" y="935" class="label-text">システム操作訓練</text>
  <text x="630" y="950" class="label-text">インシデント対応</text>
  
  <!-- Performance Metrics -->
  <rect x="50" y="1020" width="700" height="160" rx="8" fill="var(--bg-secondary)" stroke="var(--border)" stroke-width="1"/>
  <text x="400" y="1040" class="section-title">パフォーマンス指標・継続的改善</text>
  
  <!-- Availability Metrics -->
  <rect x="80" y="1060" width="120" height="100" rx="4" fill="var(--bg-primary)" stroke="var(--success)" stroke-width="2"/>
  <text x="140" y="1080" class="component-title">可用性指標</text>
  <text x="140" y="1100" class="label-text">目標: 99.95%</text>
  <text x="140" y="1115" class="label-text">月間停止: 22分</text>
  <text x="140" y="1130" class="label-text">年間停止: 4.4時間</text>
  <text x="140" y="1145" class="label-text">MTBF・MTTR</text>
  
  <!-- Recovery Metrics -->
  <rect x="220" y="1060" width="120" height="100" rx="4" fill="var(--bg-primary)" stroke="var(--warning)" stroke-width="2"/>
  <text x="280" y="1080" class="component-title">復旧指標</text>
  <text x="280" y="1100" class="label-text">検知時間: 5分</text>
  <text x="280" y="1115" class="label-text">通知時間: 2分</text>
  <text x="280" y="1130" class="label-text">復旧時間: 30分</text>
  <text x="280" y="1145" class="label-text">テスト成功率</text>
  
  <!-- Cost Optimization -->  
  <rect x="360" y="1060" width="120" height="100" rx="4" fill="var(--bg-primary)" stroke="var(--primary)" stroke-width="2"/>
  <text x="420" y="1080" class="component-title">コスト最適化</text>
  <text x="420" y="1100" class="label-text">DR費用: 12%</text>  
  <text x="420" y="1115" class="label-text">クラウド利用率</text>
  <text x="420" y="1130" class="label-text">ストレージ効率</text>
  <text x="420" y="1145" class="label-text">TCO削減</text>
  
  <!-- Continuous Improvement -->
  <rect x="500" y="1060" width="200" height="100" rx="4" fill="var(--bg-primary)" stroke="var(--neutral)" stroke-width="2"/>
  <text x="600" y="1080" class="component-title">継続的改善</text>
  <text x="510" y="1100" class="description-text">• 四半期毎のBCP見直し</text>
  <text x="510" y="1115" class="description-text">• 新技術の評価・導入</text>
  <text x="510" y="1130" class="description-text">• ベンチマーク・ベストプラクティス</text>
  <text x="510" y="1145" class="description-text">• フィードバックループ・PDCA</text>
  
  <!-- Connection Lines -->
  <!-- Primary to Secondary replication -->
  <line x1="270" y1="130" x2="530" y2="130" class="replication-line"/>
  <text x="400" y="125" class="label-text">同期レプリケーション</text>
  
  <!-- Primary to Cloud backup -->
  <line x1="200" y1="260" x2="200" y2="340" class="backup-line"/>
  <line x1="200" y1="340" x2="140" y2="340" class="backup-line"/>
  <line x1="200" y1="340" x2="280" y2="340" class="backup-line"/>
  <line x1="200" y1="340" x2="420" y2="340" class="backup-line"/>
  
  <!-- Disaster to Recovery flow -->
  <line x1="140" y1="740" x2="280" y2="740" class="recovery-line"/>
  <line x1="280" y1="740" x2="420" y2="740" class="recovery-line"/>
  <line x1="420" y1="740" x2="560" y2="740" class="recovery-line"/>
  <line x1="560" y1="740" x2="680" y2="740" class="recovery-line"/>
  
</svg>