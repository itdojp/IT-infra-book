# 構成レビュー Round1（Stage2）

- 対象リポジトリ: IT-infra-book
- 対象ファイル（主要）:
  - 入口: `docs/index.md`, `docs/introduction/index.md`, `README.md`
  - 目次: `docs/_data/navigation.yml`（※ `SUMMARY.md` は見当たりませんでした）
  - 本文: `docs/chapters/chapter01/index.md` 〜 `docs/chapters/chapter13/index.md`
  - 付録/あとがき: `docs/appendices/*`, `docs/afterword/index.md`
- 目的: Stage2（構成レビュー完了）に向けて、現状構成の把握と改善候補の整理を行う（この文書は提案まで。本文編集は別PRで実施）。

---

## 1. 書籍の概要

### 想定読者（現状から読み取れる範囲）

- インフラストラクチャ設計・構築に従事し、既存知識を体系化して設計判断力を高めたいエンジニア
- システムアーキテクチャの理解を深め、技術選択の根拠を説明可能にしたい技術者/アーキテクト

※ `docs/introduction/index.md` に、ネットワーク/運用/プログラミングの前提知識が明記されています。

### 本書のゴール（現状から読み取れる範囲）

- ベンダー非依存の「原理ベース」で、ネットワーク〜OS〜仮想化/ストレージ/運用/セキュリティ/可用性を横断して説明できる
- システムの特性や要件に応じて、技術選択のトレードオフを整理し、採用可否を判断できる
- 章末の「まとめ」を通じて、設計判断の要点を再利用できる（参照・復習しやすい）

---

## 2. 現状の章構成サマリ

※ 章タイトルは `docs/_data/navigation.yml` に基づきます。

### 序章（`docs/introduction/index.md`）

- 狙い/主なトピック
  - 本書の目的、構成（4部/13章）、対象読者、前提知識、到達目標を明示
- 学習目標
  - 明示あり（「各章の到達目標」）

### 第1章：プロトコルスタックの設計思想（`docs/chapters/chapter01/index.md`）

- 狙い/主なトピック: 階層化の必然性、OSI/TCP-IPモデル、カプセル化、レイヤー間相互作用、性能特性
- 学習目標: 明示あり（「本章の目的と到達点」）

### 第2章：L2ネットワークの設計と実装（`docs/chapters/chapter02/index.md`）

- 狙い/主なトピック: Ethernet、スイッチング、VLAN、スパニングツリー/代替、リンクアグリゲーション
- 学習目標: 明示あり（「本章の目的と到達点」）

### 第3章：L3ネットワークの設計原理（`docs/chapters/chapter03/index.md`）

- 狙い/主なトピック: IPアドレス体系、サブネット設計、スタティック/ダイナミックルーティング、NAT/NAPT
- 学習目標: 章頭で明示的な「目的/到達点」セクションは見当たりません（章末に「まとめ」あり）

### 第4章：名前解決とサービス発見（`docs/chapters/chapter04/index.md`）

- 狙い/主なトピック: DNS階層設計、DNSセキュリティ、内部/外部DNS分離、動的ホスト管理、サービス発見
- 学習目標: 章頭で明示的な「目的/到達点」セクションは見当たりません（章末に「まとめ」あり）

### 第5章：トランスポート層以上の実装技術（`docs/chapters/chapter05/index.md`）

- 狙い/主なトピック: TCP/UDP選択、TCPチューニング、ロードバランサ、プロキシ、TLS実装
- 学習目標: 章頭で明示的な「目的/到達点」セクションは見当たりません（章末に「まとめ」あり）

### 第6章：オペレーティングシステムの内部構造（`docs/chapters/chapter06/index.md`）

- 狙い/主なトピック: カーネル/ユーザー分離、スケジューリング、メモリ管理、I/O、カーネルチューニング
- 学習目標: 章頭で明示的な「目的/到達点」セクションは見当たりません（章末に「まとめ」あり）

### 第7章：ストレージアーキテクチャ（`docs/chapters/chapter07/index.md`）

- 狙い/主なトピック: ブロックデバイス抽象化、RAID、ファイルシステム比較、性能最適化、バックアップ設計
- 学習目標: 章頭で明示的な「目的/到達点」セクションは見当たりません（章末に「まとめ」あり）

### 第8章：仮想化技術の実装原理（`docs/chapters/chapter08/index.md`）

- 狙い/主なトピック: CPU/メモリ/I/O仮想化、ハイパーバイザー比較、コンテナ実装
- 学習目標: 章頭で明示的な「目的/到達点」セクションは見当たりません（章末に「まとめ」あり）

### 第9章：システム運用の自動化（`docs/chapters/chapter09/index.md`）

- 狙い/主なトピック: systemd、ログ管理、メトリクス収集、設定管理、オーケストレーション、障害対応の自動化
- 学習目標: 章頭で明示的な「目的/到達点」セクションは見当たりません（章末に「まとめ」あり）

### 第10章：セキュリティアーキテクチャ（`docs/chapters/chapter10/index.md`）

- 狙い/主なトピック: セグメンテーション、FW最適化、認証/認可、暗号化、セキュリティ監視
- 学習目標: 章頭で明示的な「目的/到達点」セクションは見当たりません（章末に「まとめ」あり）

### 第11章：高可用性システムの設計（`docs/chapters/chapter11/index.md`）

- 狙い/主なトピック: 冗長化パターン、フェイルオーバー、一貫性、レプリケーション、障害復旧自動化、クラウドネイティブHA
- 学習目標: 明示あり（「本章の目的と到達点」）

### 第12章：エンドツーエンドシステム設計（`docs/chapters/chapter12/index.md`）

- 狙い/主なトピック: スケーラビリティ、クロスレイヤー最適化、可観測性、キャパシティ、インシデント対応
- 学習目標: 明示あり（「本章の目的と到達点」）

### 第13章：技術選択のフレームワーク（`docs/chapters/chapter13/index.md`）

- 狙い/主なトピック: 評価基準、OSS評価、技術的負債、CI/CD、導入判断、ロードマップ
- 学習目標: 明示あり（「本章の目的と到達点」）

---

## 3. 構成上の気になる点（候補）

- 入口（`docs/index.md`）の目次が、`docs/_data/navigation.yml` / 各章の実体と一致していません。
  - 例: `docs/index.md` の第4章〜第10章の章名が、`docs/_data/navigation.yml` と異なります。
  - 目次の不一致は、初学者の迷子（リンクは合っているが期待した内容と違う）に直結します。
- 章番号（節番号）の重複があります。
  - 第9章に `9.4` が2回（`9.4 設定管理...` と `9.4 障害対応...`）
  - 第11章に `11.5` が2回（`11.5 障害復旧...` と `11.5 クラウドネイティブ...`）
  - 第13章に `13.5` が2回（`13.5 新技術導入...` と `13.5 将来予測...`）
- 章頭の「本章の目的と到達点」セクションが、章によって有無が混在しています。
  - 1,2,11,12,13章は明示あり。
  - 3〜10章は明示なし（ただし章末の「まとめ」は存在）。
  - Stage2の要件（章の学習目標と節内容の対応）を確認しやすくするため、記述形式を揃える余地があります。
- リポジトリトップ（`README.md`）が書籍の入口になっておらず、テンプレート説明になっています。
  - GitHubから訪れた読者/学習者が最初に迷う可能性が高いです。

---

## 4. 構成改善の提案（案）

### 入口と目次の整合（最優先）

- `docs/index.md` の目次を `docs/_data/navigation.yml` から生成する方式に寄せ、目次の二重管理を避ける
  - 例: chapter list を `site.data.navigation` からループで描画する（他リポでも採用されている方式）
- 章名の不一致を解消し、章タイトル・リンク・実体（front matter / 見出し）を一致させる

### 章内の節番号整合

- 第9章/第11章/第13章の節番号重複を解消する（例: 後ろ側を `9.6` / `11.6` / `13.6` に変更）
  - 変更範囲は見出し番号のみを基本とし、内容の趣旨は不変更

### 章頭の学習目標（目的/到達点）の形式統一

- 第3〜10章にも `## 本章の目的と到達点` を追加し、章末「まとめ」とセットで学習曲線を明確化する
  - 既存の導入段落と各節の内容から、3〜5項目程度に整理

### リポジトリトップ（README）を読者入口に変更

- `README.md` を「読者・学習者の入口」とし、オンライン版URL、対象読者、読み方、Issue誘導、ライセンスを掲載する
  - テンプレート説明は必要なら別ファイル（例: `PROJECT-DOCS.md`）へ移動

---

## 付記（次のアクション案）

- Stage2レビューPR（本PR）
- 合意できた範囲で、以下を分割PRで実施
  - 入口/目次整合
  - 節番号重複の解消
  - 章頭「目的/到達点」追加（3〜10章）
  - README入口化
